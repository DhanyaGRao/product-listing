<html>
  <head>
    <!-- Do _not_  rely on this URL in production. Use only during development.  -->
    <script type="text/javascript" src="http://netflix.github.io/falcor/build/falcor.browser.js">
      
    </script>

    <script>
  //var model = new falcor.Model({source: new falcor.HttpDataSource('./model.json') });
  var $ref=falcor.Model.ref;
  var model= new falcor.Model({ 
  cache:{

    titleById:{

      2345 :{
             
             "name":"DareDeviles",
             "rating":4

     }

    },
        
        "genreList":[

        {

          "name": "Recently watched",
          "titles":
          [
             $ref("titleById[2345]")
           //{ $type:"ref",value:"titleById[2345]"}

          ]

        },

        {

          "name": "New Release",
          "titles":[
            $ref("titleById[2345]")
          //{ $type:"ref",value:"titleById[2345]"}

           ]

        }

        ]
     }
   });
var index=0;
     //model.setValue('genreList[0].titles[0].rating',5).
     //then(function(value){
      model.getValue(

 // ["genreList",{from:index,to:index+1},"titles",0,"name"]).
    ["genreList",0,"titles",0,"name"]).
      //"genreList[0].title[0].name"
      then(function(value){
       console.log(value)
        // console.log(JSON.stringify(json,null,2))

      })
      //document.write(json.response)
    //  console.log(JSON.stringify(json,null,2))
    //  document.write(JSON.stringify(json,null,2))
      //console.log(value)
     // document.write(value);

   //  })
    </script>
  </head>
  <body>
  </body>
</html>